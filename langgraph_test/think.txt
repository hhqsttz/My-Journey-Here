langgraphé¡¹ç›®æµç¨‹
1.åˆ›å»ºæ–°çš„è™šæ‹Ÿç¯å¢ƒ
2.pip install "langgraph-cli[inmem]"
3.åœ¨æŒ‡å®šç›®å½•langgraph new é¡¹ç›®åå­—
4.é‡ç½®.env.exampleæ–‡ä»¶ä¸º.envçš„ç©ºæ–‡ä»¶
5.å®‰è£…å½“å‰é¡¹ç›®çš„ä¾èµ–
    pip install -e .
6.åœ¨æ ¹ç›®å½•å®Œå–„å¥½ä½ çš„agentçš„ä»£ç 
    1.ä¸Šä¸‹æ–‡è®°å¿†ï¼ŒçŸ­æœŸè®°å¿†ä¸é•¿æœŸè®°å¿†ï¼ˆæœ€ä½³æ­é…çš„åç«¯rediså’ŒPostgresqlï¼‰
                            graph = create_react_agent(
                            llm,
                            tools=[get_weather],
                            prompt = prompt     #åŠ¨æ€è®¾å®šæç¤ºè¯
                            checkpointer=checkpointer
                            state_schem = CustomerState
                        )

        config:
            è®°å¿†ç±»å‹	Configurable å‚æ•°	ä½œç”¨åŸŸ	ä¸»è¦ç”¨é€”	åº•å±‚æœºåˆ¶
            çŸ­æœŸè®°å¿†	"thread_id"	å•æ¬¡å¯¹è¯çº¿ç¨‹	ç»´æŒå½“å‰å¯¹è¯çš„ä¸Šä¸‹æ–‡å’ŒçŠ¶æ€	Checkpointer
            é•¿æœŸè®°å¿†	"user_id"	è·¨æ‰€æœ‰å¯¹è¯ä¼šè¯	æ ‡è¯†ç”¨æˆ·ï¼Œå­˜å‚¨å…¶è·¨ä¼šè¯çš„æŒä¹…åŒ–ä¿¡æ¯	Store (å‘½åç©ºé—´)

            1.å¯ä»¥è®¾ç½®ä¸€ä¸ªåŠ¨æ€promptï¼ˆcallableå¯¹è±¡ï¼Œå°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼‰ï¼Œåœ¨æµ‹è¯•è°ƒç”¨çš„æ—¶å€™ä¼ ä¸€ä¸ªï¼Œconfigå‚æ•°
            2.é€šè¿‡toolæ¥è·å¾—å…·ä½“å®ç°éƒ½æ˜¯é€šè¿‡å‡½æ•°
                eg:
                def prompt (config:RunnableConfig,state:AgentState) ->List[AnyMessage]:
                            user_name = config["configurable"].get("user_name","zs")

                            s_message = f"ç³»ç»Ÿæç¤ºè¯ï¼Œ{user_name}"

                            return [{"role":"system","content":s_message}]+state["messages"]
        Angentstateï¼š
            å®šä¹‰ï¼šå­˜æ”¾çŠ¶æ€æ¶ˆæ¯ï¼Œåˆ¤æ–­æ˜¯å¦ä¸ºæœ€åä¸€æ¡æ¶ˆæ¯ç­‰ã€‚
            è‡ªå®šä¹‰ä¸€ä¸ªçŠ¶æ€ç±»ç»§æ‰¿ï¼ˆAgentstateï¼‰ï¼Œå¯ä»¥åœ¨é‡Œé¢æ–°åŠ å˜é‡,å¯ä»¥é€šè¿‡ä¿®æ”¹å·¥å…·è¾“å‡ºç»“æœæ¥æ”¹å˜è‡ªå®šä¹‰çŠ¶æ€å˜é‡ã€‚
                egï¼š
                    è¦å…ˆå®šä¹‰ä¸€ä¸ªstateç±»æ‰èƒ½è¿›è¡Œä¸‹é¢çš„ä¿®æ”¹ï¼š
                    class CustomerState(AgentState):
                        user_id :str
                    @tool
                    def a(config:RunnableConfig,
                          tool_call_id:Annotated[str,InjectedToolCallid]  #è®¾ç½®è‡ªåŠ¨æ³¨å…¥ä¸Šä¸€æ¡ä¿¡æ¯è¾“å‡ºçš„ToolCallid
                         )->Command:                                     #è¾“å‡ºå†…å®¹ä¸ºä¸€ä¸ªCommandå£°æ˜
                        user_id=config["configurable"]["user_id"],
                        return Command(
                        update={user_id=user_id,
                        messages={ToolMessage(content="æ‹¿åˆ°ç”¨æˆ·çš„ä¿¡æ¯äº†",
                                  tool_call_id=tool_call_id)}}
                        )
                    @tool
                    def geet(state:Annotated[CustomerState,InjectedState]) #è‡ªåŠ¨æ³¨å…¥å½“å‰çš„state
                        user_id = state.user_id
                        return f"ç¥è´ºä½ {user_id}"
        çŸ­æœŸè®°å¿†checkpointer:
                è·å¾—çŸ­æœŸè®°å¿†å†…å®¹ï¼šlist(agent.get_state(config))
                # å†…å­˜ï¼š å¼€å‘ç¯å¢ƒ
                checkpointer = InMemorySaver()

                # åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œä½¿ç”¨ç”±æ•°æ®åº“æ”¯æŒçš„æ£€æŸ¥ç‚¹
                # å¿…é¡»å®‰è£…ï¼špip install -U "psycopg[binary,pool]" langgraph-checkpoint-postgres
                DB_URI = "postgresql://postgres:postgres@localhost:5432/æ•°æ®åº“åå­—"
                with PostgresSaver.from_conn_string(DB_URI) as checkpointer:
                        checkpointer.setup()    #ç¬¬ä¸€æ¬¡åˆ›å»ºéœ€è¦æ‰§è¡Œåé¢å°±ä¸éœ€è¦äº†
                     ***è¿™ä¸ªæ•°æ®åº“å¿…é¡»è¦å­˜åœ¨ï¼Œå¦‚ä½•åˆ›å»ºæ•°æ®åº“
                        psql -U ç”¨æˆ·å #å‘½ä»¤è¡Œè¾“å…¥ï¼Œè¿›å…¥åˆ°æ•°æ®åº“å½“ä¸­ï¼Œå¯†ç è¾“å¥½ç›´æ¥å›è½¦å°±è¡Œ
                        create database æ•°æ®åº“åå­—

                # ç”Ÿäº§ç¯å¢ƒï¼šRedis
                # pip install -U langgraph-checkpoint-redis
                DB_URI = "redis://:6379"
                with RedisSaver.from_conn_string(DB_URI) as checkpointer:
                       checkpointer.setup()    #ç¬¬ä¸€æ¬¡åˆ›å»ºéœ€è¦æ‰§è¡Œåé¢å°±ä¸éœ€è¦äº†

        é•¿æœŸè®°å¿†storeï¼š
                è·å¾—é•¿æœŸè®°å¿†å†…å®¹ï¼šlist(agent.get_state_history(config))
                # å¼€å‘ç¯å¢ƒä¸­ï¼š å†…å­˜
                store = InMemoryStore()

                # åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œä½¿ç”¨ç”±æ•°æ®åº“æ”¯æŒçš„å­˜å‚¨
                DB_URI = "postgresql://postgres:postgres@localhost:5442/postgres?sslmode=disable"
                with (
                    PostgresStore.from_conn_string(DB_URI) as store,
                    PostgresSaver.from_conn_string(DB_URI) as checkpointer,
                ):
                    # store.setup()
                    # checkpointer.setup()



                DB_URI = "redis://:6379"
                with (
                    RedisStore.from_conn_string(DB_URI) as store,
                    RedisSaver.from_conn_string(DB_URI) as checkpointer,
                ):
                    store.setup()
                    checkpointer.setup()

    2.å…³äºå·¥å…·ï¼š
        å·¥å…·çš„åˆ›å»ºå››ç§ï¼š
            1.å‡½æ•°ï¼ˆç”¨çš„æœ€å¤šï¼‰
            2.ç»§æ‰¿äºBaseTool
            3.StructuredTool langchainçš„runnableå¯¹è±¡
            4.MCP Serverï¼ˆfunction callingï¼‰
        å·¥å…·æè¿°é£æ ¼æœ€å¸¸ç”¨ï¼š
            base_tool_Goggle.py
        #ä¸€ä¸ªå·¥å…·åŒ…å«(åç§°ï¼Œæè¿°ï¼Œargs_schem),æè¿°çš„è¶Šæ¸…æ™°å·¥å…·æ‰§è¡Œçš„æ•ˆæœè¶Šå¥½ã€‚
        å¦‚æœæœ¬åœ°è°ƒç”¨æ™ºèƒ½ä½“ï¼Œéšä¾¿åœ¨å“ªinvokeå°±è¡Œï¼Œå¦‚æœè¦éƒ¨ç½²åˆ°langgraphæœåŠ¡å™¨ä¸Šï¼Œ
        å°±è¦æŠŠå·¥å…·ä»¥åŠå…¶ä»–ä¸œè¥¿åŠ è½½åˆ°æ ¹ç›®å½•çš„agentåŒ…å½“ä¸­ã€‚
    å…³äºMCP
    ğŸ› ï¸ MCP çš„æ ¸å¿ƒä½œç”¨
    MCP (Model Context Protocol) æ˜¯ä¸€ä¸ªç”± Anthropic æ¨å‡ºçš„å¼€æºåè®®ï¼Œå®ƒæ—¨åœ¨æ ‡å‡†åŒ–åº”ç”¨ç¨‹åºå‘è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰æä¾›å·¥å…·å’Œä¸Šä¸‹æ–‡çš„æ–¹å¼ã€‚
    ç®€å•æ¥è¯´ï¼Œå®ƒå°±åƒä¸€å¥—â€œé©±åŠ¨æ ‡å‡†â€ï¼Œå…è®¸å¤–éƒ¨æ•°æ®æºå’Œå·¥å…·é€šè¿‡ç»Ÿä¸€çš„â€œæ¥å£â€è¢« LLM å‘ç°å’Œè°ƒç”¨ï¼Œä»è€Œä¸°å¯Œæ™ºèƒ½ä½“çš„èƒ½åŠ›ï¼Œä½¿å…¶ä¸å†å±€é™äºæ¨¡å‹è‡ªèº«çš„çŸ¥è¯†å’ŒåŠŸèƒ½ã€‚

    ğŸ“¡ MCP çš„é€šä¿¡æœºåˆ¶
    ä½ æåˆ°çš„ä¸‰ç§é€šä¿¡æœºåˆ¶æ˜¯æ­£ç¡®çš„ï¼š
    stdio (æ ‡å‡†è¾“å…¥è¾“å‡º)ï¼šå¸¸ç”¨äºæœ¬åœ°è¿›ç¨‹é—´é€šä¿¡ï¼Œä¾‹å¦‚åœ¨æ¡Œé¢å®¢æˆ·ç«¯ï¼ˆå¦‚ Claude Desktopï¼‰ä¸­é›†æˆæœ¬åœ°å·¥å…·ã€‚
    SSE (Server-Sent Events)ï¼šä¸€ç§ HTTP åè®®ï¼Œå…è®¸æœåŠ¡å™¨å‘å®¢æˆ·ç«¯æ¨é€æ•°æ®ï¼Œé€‚ç”¨äºéœ€è¦å®æ—¶æ›´æ–°çš„ Web åº”ç”¨åœºæ™¯ã€‚
    streamable_httpï¼šStreamable HTTP æ˜¯ MCP åè®®ä¸­ä¸€ç§æ›´çµæ´»é«˜æ•ˆçš„é€šä¿¡æ–¹å¼ï¼Œå®ƒé€šè¿‡å•ä¸€ç«¯ç‚¹æ”¯æŒåŒå‘é€šä¿¡å’ŒæŒ‰éœ€æµå¼ä¼ è¾“ï¼Œè§£å†³äº†ä¼ ç»Ÿ SSE æ–¹å¼çš„æ–­çº¿é‡è¿å’Œå…¼å®¹æ€§é—®é¢˜ã€‚


    ğŸ å¼€å‘ MCP æœåŠ¡å™¨çš„å·¥å…·
    ä½ çš„ç†è§£æ˜¯å¯¹çš„ï¼Œå¯ä»¥ä½¿ç”¨ä¸åŒçš„å·¥å…·æˆ–æ¡†æ¶æ¥å¼€å‘ MCP æœåŠ¡å™¨ï¼Œä»¥é€‚åº”ä¸åŒçš„æŠ€æœ¯æ ˆï¼š

    Python: FastMCP æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œå®ƒæ—¨åœ¨ç®€åŒ–æ„å»º MCP æœåŠ¡å™¨çš„æµç¨‹ï¼Œè®©å¼€å‘è€…å¯ä»¥å¿«é€Ÿæ„å»ºç¬¦åˆ MCP åè®®çš„æœåŠ¡å™¨ï¼Œå°†ä¸šåŠ¡é€»è¾‘ã€æ•°æ®èµ„æºã€å®‰å…¨ä¼ è¾“ç»Ÿä¸€æš´éœ²ç»™ LLMã€‚
    åˆ›å»ºæµç¨‹ï¼š
        1.åˆ›å»ºFastMCPå®ä¾‹  tools_server.py/tools_server2.py
            å¯¼å…¥fastMCPè¿™ä¸ªåŒ…ï¼Œåˆ›å»ºå®ä¾‹ï¼ŒåŸºäºå®ä¾‹åˆ›å»ºå·¥å…·ï¼Œæç¤ºè¯æ¨¡æ¿ï¼Œèµ„æºè·å–
        2.åŸºäºä¸åŒçš„é€šä¿¡æœºåˆ¶è¿è¡Œå®ä¾‹ start_sse_server.py/start_streamable_server.py

    Java/Spring ç”Ÿæ€: Spring AI æä¾›äº†å¯¹ MCP å®¢æˆ·ç«¯çš„æ”¯æŒï¼ˆä¾‹å¦‚ spring-ai-mcp-client-spring-boot-starterï¼‰ï¼Œ
    ä½¿å¾— Spring Boot åº”ç”¨ç¨‹åºèƒ½å¤Ÿæ–¹ä¾¿åœ°è¿æ¥å’Œè°ƒç”¨ MCP æœåŠ¡å™¨æä¾›çš„å·¥å…·ã€‚
    è™½ç„¶æœç´¢ç»“æœæ›´å¤šæåŠçš„æ˜¯ Spring AI ä½œä¸º MCP Client å»è¿æ¥å…¶ä»– MCP Serverï¼Œä½†ç†è®ºä¸Šä¹Ÿå¯ä»¥ç”¨äºæ„å»º MCP Serverã€‚

    å…¶ä»–å¤–ç½‘å·¥å…·: æ˜¯çš„ï¼Œäº’è”ç½‘ä¸Šæœ‰è®¸å¤šç°æˆçš„ã€é’ˆå¯¹ç‰¹å®šæœåŠ¡çš„ MCP æœåŠ¡å™¨ï¼Œä¾‹å¦‚ Brave Search MCP æœåŠ¡å™¨ã€æ–‡ä»¶ç³»ç»Ÿ MCP æœåŠ¡å™¨ç­‰ã€‚ä½ å¯ä»¥ç›´æ¥è¿æ¥å¹¶ä½¿ç”¨è¿™äº›ç°æˆçš„å·¥å…·ã€‚

    MCPçš„å®‰å…¨è®¤è¯
    è¿™ä¸ªæ˜¯æœåŠ¡ç«¯è¦åšçš„ï¼Œæ˜¯ç”¨æ¥éªŒè¯ç”¨æˆ·è®¿é—®æƒé™çš„ã€‚
    å…·ä½“æµç¨‹ï¼šé¦–å…ˆï¼Œæœ‰ä¸‰ä¸ªç«‹åœºï¼Œç­¾å‘æ–¹ï¼ŒæœåŠ¡æ–¹ï¼Œç”¨æˆ·æ–¹ã€‚ç­¾å‘æ–¹ä¼šç”Ÿæˆä¸€å¯¹é’¥åŒ™å¯¹ï¼ŒåŒ…æ‹¬å…¬é’¥å’Œç§é’¥ï¼Œå…¬é’¥ç»™æœåŠ¡æ–¹ï¼Œç§é’¥è‡ªå·±ä¿å­˜ã€‚
                æœåŠ¡æ–¹ä¼šæ¥ç€é…ç½®è§„åˆ™ï¼ŒåŒ…æ‹¬è¿™ä¸ªå…¬é’¥ï¼Œç­¾å‘æ–¹ä¸æœåŠ¡æ–¹çš„æ ‡è¯†ã€‚
                ç­¾å‘æ–¹ä¼šåŸºäºç§é’¥ä»¥åŠä½ çš„ä¿¡æ¯ï¼ˆä½ æ˜¯è°ï¼Œä½ è®¿é—®çš„æƒé™ï¼‰ï¼Œä»¥åŠç­¾å‘æ–¹æœåŠ¡æ–¹çš„æ ‡è¯†æ¥ç”Ÿæˆä¸€ä¸ªç­¾åï¼Œ
                ç”¨æˆ·æ–¹ï¼Œå¦‚æœè¦è®¿é—®æœåŠ¡ï¼Œå°±è¦æ‹¿åˆ°è¿™ä¸ªç­¾åï¼Œå¹¶ä¸”ç»™æœåŠ¡æ–¹å±•ç¤ºï¼Œæ ¡éªŒè¿‡åå°±å¯ä»¥ç”¨åˆ°æœåŠ¡æ–¹çš„æœåŠ¡äº†ã€‚

    ğŸ”Œ LangGraph ä¸ MCP çš„é›†æˆ
    LangGraph æœ¬èº«æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºçŠ¶æ€åŒ–ã€å¤šæ™ºèƒ½ä½“åº”ç”¨ç¨‹åºçš„æ¡†æ¶ã€‚è¦è®© LangGraph ä¸­è¿è¡Œçš„æ™ºèƒ½ä½“èƒ½å¤Ÿå‘ç°å’Œè°ƒç”¨è¿™äº›ç”± MCP æœåŠ¡å™¨æä¾›çš„å·¥å…·ï¼Œå°±éœ€è¦ä¸€ä¸ªâ€œé€‚é…å™¨â€æˆ–â€œæ¡¥æ¥â€åº“ã€‚
    ä½ æåˆ°çš„ langgraph-mcp-adapters ä¹‹ç±»çš„åº“ï¼ˆæœç´¢ç»“æœä¸­æåˆ°äº† langchain-mcp-adaptersï¼‰æ­£æ˜¯èµ·åˆ°äº†è¿™ä¸ªä½œç”¨ã€‚
    å®ƒèƒ½å¤ŸåŠ¨æ€åœ°ä» MCP æœåŠ¡å™¨è·å–å·¥å…·åˆ—è¡¨ï¼ˆé€šå¸¸ä»¥ JSON Schema æè¿°ï¼‰ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸º LangChain/LangGraph æ™ºèƒ½ä½“èƒ½å¤Ÿè¯†åˆ«å’Œè°ƒç”¨çš„å·¥å…·æ ¼å¼ï¼ˆä¾‹å¦‚ LangChain çš„ BaseToolï¼‰ã€‚
    è¿™æ„å‘³ç€ä½ æ— éœ€åœ¨ä»£ç ä¸­ç¡¬ç¼–ç æ‰€æœ‰å·¥å…·çš„å®šä¹‰ï¼Œæ™ºèƒ½ä½“å¯ä»¥åœ¨è¿è¡Œæ—¶è‡ªåŠ¨å‘ç°å·²è¿æ¥çš„ MCP æœåŠ¡å™¨æä¾›äº†å“ªäº›å·¥å…·ï¼Œå¹¶åŠ¨æ€è°ƒç”¨å®ƒä»¬ã€‚è¿™å¤§å¤§å¢å¼ºäº†æ™ºèƒ½ä½“çš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ã€‚
    ä½¿ç”¨æµç¨‹ï¼šmcp_agent.py/mcp_agent2.py
        1.åˆ›å»ºmcpæœåŠ¡ç«¯å®ä¾‹
        2.å¼‚æ­¥åœ°è·å–å·¥å…·ï¼Œæç¤ºè¯ï¼Œèµ„æº
    3.å°†å·¥å…·ä¸llmæ•´åˆæµ‹è¯•
      æµå¼è¾“å‡ºæ—¶æœ€ç»ˆå›å¤æ—¶æ˜¯æµå¼è¾“å‡ºï¼Œå…¶ä»–çš„éƒ½æ˜¯æ•´æ¡ä¿¡æ¯
      åœ¨agentè¿›è¡Œæµå¼è¾“å‡ºæ—¶ï¼Œllmä¼šé€šè¿‡å·¥å…·è°ƒç”¨è§£æå™¨ï¼ˆ--tool--call--paserï¼‰æ¥å‘toolè¿›è¡Œä¼ å‚ã€‚
      ä½†æ˜¯ç”±äºå„æ¨ç†æ¡†æ¶çš„pytorchçš„ç‰ˆæœ¬ä¸åŒï¼Œqw3çš„å·¥å…·è°ƒç”¨è§£æå™¨ä½¿ç”¨è‡ªå·±çš„qw25ï¼Œåªèƒ½é€€è€Œæ±‚å…¶æ¬¡é€‰æ‹©hermsï¼Œ
      ä½†æ˜¯è¿˜ä¼šå‡ºé”™ï¼Œæ‰€ä»¥éœ€è¦ç”¨sglangç­‰æ¡†æ¶éƒ¨ç½²ã€‚
        pip install "sglang[all]>=0.4.6.post1"
        # å¯åŠ¨å¤§æ¨¡å‹æœåŠ¡
        python -m sglang.launch_server \
          --model-path /hy-tmp/models/Qwen/Qwen3-8B \
          --served-model-name qwen3-8b \
          --context-length 8192 \
          --trust-remote-code \
          --host 0.0.0.0 \
          --port 8080 \
          --reasoning-parser qwen3 \
          --tool-call-parser qwen25



7.åŸºäºæœ¬åœ°å¼€å¯ä¸€ä¸ªæœ¬åœ°çš„æœåŠ¡
    å‘½ä»¤è¡Œlanggraph dev
8.ç”¨stdioæ¥æµ‹è¯•ä½ çš„agent

9.æœ¬åœ°pythonè°ƒç”¨apiæœåŠ¡æ¥å£
    åœ¨testsæ–‡ä»¶å¤¹åˆ›å»ºæµ‹è¯•.py
    åŒ…æ‹¬åŒæ­¥å¼‚æ­¥è°ƒç”¨
    langgraphæµå¼è¾“å‡ºï¼Œ
    é…ç½®stream-model="messages-tuple ",è¾“å‡ºçš„æ•°æ®æ ¼å¼
----------------------------------------------------------------
åŒæ­¥è°ƒç”¨
from langgraph_sdk import get_sync_client

client = get_sync_client(url="http://localhost:2024") #Rustfulapiæ¥å£

for chunk in client.runs.stream(
    None,  # Threadless run æ˜¯å¦å¯ç”¨ä¸€ä¸ªçº¿ç¨‹
    "agent", # Name of assistant. Defined in langgraph.json.
    input={"messages": [{"role": "human","content": "What is LangGraph?",}],},
    stream_mode="messages-tuple", #æ¶ˆæ¯ä¸€ä¸ªä¸€ä¸ªtokenæµå¼è¾“å‡º
):

    print(f"Receiving new event of type: {chunk.event}...")
    print(chunk.data)                     #è¿™ä¸ªæ‰“å°çš„ç»“æœå°±æ˜¯
    print("\n\n")                         #é¦–å…ˆä¸€ä¸ªHumanMessageï¼Œä¸€ä¸ªAIMessageï¼ˆä¸»è¦æ˜¯å·¥å…·è°ƒç”¨çš„æŒ‡ä»¤ï¼‰ï¼ŒToolMessageï¼ŒAIMessage
                                           å¹¶ä¸”è¾“å‡ºçš„ä¸»è¦æ˜¯Messageçš„content
---------------------------------------------------------
å¼‚æ­¥è°ƒç”¨  ï¼ˆè¿”å›ä¸€ä¸ªå­—å…¸â€œmetadateâ€ï¼šidå·ï¼Œâ€œmessage"ï¼š{4æ¡æ¶ˆæ¯ï¼Œäººç±»ï¼ŒaiFï¼Œtoolï¼Œai}ï¼‰
from langgraph_sdk import get_client
import asyncio

client = get_client(url="http://localhost:2024")

async def main():
    async for chunk in client.runs.stream(
        None,  # Threadless run
        "agent", # Name of assistant. Defined in langgraph.json.
        input={
        "messages": [{
            "role": "human",
            "content": "What is LangGraph?",
            }],
        },
    ):
        print(f"Receiving new event of type: {chunk.event}...")
        print(chunk.data)
        print("\n\n")

asyncio.run(main())